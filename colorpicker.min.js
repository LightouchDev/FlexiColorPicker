!function(t,e,i){function o(e){if(t.event&&t.event.contentOverflow!==i)return{x:t.event.offsetX,y:t.event.offsetY};if(e.offsetX!==i&&e.offsetY!==i)return{x:e.offsetX,y:e.offsetY};var o=e.target.parentNode.parentNode;return e.layerX?{x:e.layerX-o.offsetLeft,y:e.layerY-o.offsetTop}:(o=o.getBoundingClientRect(),{x:e.screenX-o.x,y:e.screenY-o.y})}function n(t,i,o){t=e.createElementNS(y,t);for(var n in i)t.setAttribute(n,i[n]);"[object Array]"!=Object.prototype.toString.call(o)&&(o=[o]);for(var s=0,r=o[0]&&o.length||0;s<r;s++)t.appendChild(o[s]);return t}function s(t){var e,i,o,n,s,r=t.h%360/60;s=t.v*t.s,n=s*(1-Math.abs(r%2-1)),e=i=o=t.v-s,r=~~r,e+=[s,n,0,0,n,s][r],i+=[n,s,s,n,0,0][r],o+=[0,0,n,s,s,n][r];var l=Math.floor(255*e),c=Math.floor(255*i),a=Math.floor(255*o);return{r:l,g:c,b:a,hex:"#"+(16777216|a|c<<8|l<<16).toString(16).slice(1)}}function r(t){var e=t.r,i=t.g,o=t.b;(t.r>1||t.g>1||t.b>1)&&(e/=255,i/=255,o/=255);var n,s,r,l;return r=Math.max(e,i,o),l=r-Math.min(e,i,o),n=0==l?null:r==e?(i-o)/l+(i<o?6:0):r==i?(o-e)/l+2:(e-i)/l+4,n=n%6*60,s=0==l?0:l/r,{h:n,s:s,v:r}}function l(e,n,r){return function(l){l=l||t.event;var c=o(l);c.y=c.y>n.clientHeight?n.clientHeight:c.y,c.y=c.y<0?0:c.y,e.h=c.y/n.offsetHeight*360+g;var a=s({h:e.h,s:1,v:1}),h=s({h:e.h,s:e.s,v:e.v});r.style.backgroundColor=a.hex,e.callback&&e.callback(h.hex,{h:e.h-g,s:e.s,v:e.v},{r:h.r,g:h.g,b:h.b},i,c)}}function c(e,i){return function(n){n=n||t.event;var r=o(n),l=i.offsetWidth,c=i.offsetHeight;r.x=r.x>i.clientWidth?i.clientWidth:r.x,r.x=r.x<0?0:r.x,r.y=r.y>i.clientHeight?i.clientHeight:r.y,r.y=r.y<0?0:r.y,e.s=r.x/l,e.v=(c-r.y)/c;var a=s(e);e.callback&&e.callback(a.hex,{h:e.h-g,s:e.s,v:e.v},{r:a.r,g:a.g,b:a.b},r)}}function a(t,e,i){if(!(this instanceof a))return new a(t,e,i);if(this.h=0,this.s=1,this.v=1,i)this.callback=i,this.pickerElement=e,this.slideElement=t;else{var o=t;o.innerHTML=m,this.slideElement=o.getElementsByClassName("slide")[0],this.pickerElement=o.getElementsByClassName("picker")[0];var n=o.getElementsByClassName("slide-indicator")[0],s=o.getElementsByClassName("picker-indicator")[0];a.fixIndicators(n,s),this.callback=function(t,i,o,r,l){a.positionIndicators(n,s,l,r),e(t,i,o)}}if("SVG"==u){var r=v.cloneNode(!0),p=d.cloneNode(!0),g=r.getElementsByTagName("linearGradient")[0],y=r.getElementsByTagName("rect")[0];g.id="gradient-hsv-"+x,y.setAttribute("fill","url(#"+g.id+")");var b=[p.getElementsByTagName("linearGradient")[0],p.getElementsByTagName("linearGradient")[1]],w=p.getElementsByTagName("rect");b[0].id="gradient-black-"+x,b[1].id="gradient-white-"+x,w[0].setAttribute("fill","url(#"+b[1].id+")"),w[1].setAttribute("fill","url(#"+b[0].id+")"),this.slideElement.appendChild(r),this.pickerElement.appendChild(p),x++}else this.slideElement.innerHTML=v,this.pickerElement.innerHTML=d;h(this.slideElement,"click",l(this,this.slideElement,this.pickerElement)),h(this.pickerElement,"click",c(this,this.pickerElement)),f(this,this.slideElement,l(this,this.slideElement,this.pickerElement)),f(this,this.pickerElement,c(this,this.pickerElement))}function h(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener&&t.addEventListener(e,i,!1)}function f(e,i,o){var n=!1;t.PointerEvent?(h(i,"pointerdown",function(t){n=!0}),h(i,"pointerup",function(t){n=!1}),h(i,"pointerout",function(t){n=!1}),h(i,"pointermove",function(t){n&&o(t)})):(h(i,"mousedown",function(t){n=!0}),h(i,"mouseup",function(t){n=!1}),h(i,"mouseout",function(t){n=!1}),h(i,"mousemove",function(t){n&&o(t)}))}function p(t,e,i,o){t.h=e.h%360,t.s=e.s,t.v=e.v;var n=s(t),r={y:t.h*t.slideElement.offsetHeight/360,x:0},l=t.pickerElement.offsetHeight,c={x:t.s*t.pickerElement.offsetWidth,y:l-t.v*l};return t.pickerElement.style.backgroundColor=s({h:t.h,s:1,v:1}).hex,t.callback&&t.callback(o||n.hex,{h:t.h,s:t.s,v:t.v},i||{r:n.r,g:n.g,b:n.b},c,r),t}var d,v,u=t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",g=15,y="http://www.w3.org/2000/svg",m=['<div class="picker-wrapper">','<div class="picker" touch-action="none"></div>','<div class="picker-indicator" touch-action="none"></div>',"</div>",'<div class="slide-wrapper">','<div class="slide" touch-action="none"></div>','<div class="slide-indicator" touch-action="none"></div>',"</div>"].join("");"SVG"==u?(v=n("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[n("defs",{},n("linearGradient",{id:"gradient-hsv",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[n("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),n("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),n("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),n("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),n("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),n("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),n("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),n("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),n("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})])),n("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-hsv)"})]),d=n("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[n("defs",{},[n("linearGradient",{id:"gradient-black",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[n("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"}),n("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})]),n("linearGradient",{id:"gradient-white",x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[n("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"}),n("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})])]),n("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-white)"}),n("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-black)"})])):"VML"==u&&(v=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="red" color2="red" colors="8519f fuchsia;.25 #8000ff;24903f #0040ff;.5 aqua;41287f #00ff40;.75 #0bed00;57671f yellow"></v:fill>',"</v:rect>","</DIV>"].join(""),d=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; left: -1px; top: -1px; width: 101%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="270" color="#FFFFFF" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>",'<v:rect style="position: absolute; left: 0px; top: 0px; width: 100%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="#000000" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>","</DIV>"].join(""),e.namespaces.v||e.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"));var x=0;a.hsv2rgb=function(t){var e=s(t);return delete e.hex,e},a.hsv2hex=function(t){return s(t).hex},a.rgb2hsv=r,a.rgb2hex=function(t){return s(r(t)).hex},a.hex2hsv=function(t){return r(a.hex2rgb(t))},a.hex2rgb=function(t){return{r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)}},a.prototype.setHsv=function(t){return p(this,t)},a.prototype.setRgb=function(t){return p(this,r(t),t)},a.prototype.setHex=function(t){return p(this,a.hex2hsv(t),i,t)},a.positionIndicators=function(t,e,i,o){i&&(t.style.top=i.y-t.offsetHeight/2+"px"),o&&(e.style.top=o.y-e.offsetHeight/2+"px",e.style.left=o.x-e.offsetWidth/2+"px")},a.fixIndicators=function(t,e){e.style.pointerEvents="none",t.style.pointerEvents="none"},t.ColorPicker=a}(window,window.document);